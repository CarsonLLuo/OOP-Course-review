# Week5-Advanced Command Line

# 什么是bat语言？

* BAT（Batch）是 Windows 操作系统中的一种批处理语言，用于编写批处理脚本（.bat 文件）。批处理脚本是一系列命令和程序的组合，可以按顺序执行，从而实现自动化操作。

* BAT 脚本通常使用文本编辑器编写，扩展名为 .bat。BAT 语言的语法和命令与 Windows 命令行界面（Command Prompt）中的命令相似，可以使用各种命令和控制结构来实现自动化操作，例如文件操作、网络操作、进程管理、环境变量设置等。

* BAT 语言的语法相对简单，适合用于快速编写一些简单的脚本或小工具。BAT 脚本也常用于批量处理文件、备份数据、自动化部署等任务，可以帮助提高工作效率。

* 尽管 BAT 脚本语言功能比较受限，不如其他编程语言强大和灵活，但在一些简单的场景下，它仍然是非常有用的。

# 命名变量

在 Windows 系统中，可以在命令提示符窗口中使用 `set`​ 命令来定义环境变量。环境变量是一种特殊的变量，可以在当前会话或者系统中被多个程序访问和使用。

定义一个环境变量的格式如下：

```bash
set 变量名=变量值

```

其中，变量名为自定义的名称，变量值可以是任意字符串或数字。需要注意的是，变量名不能包含空格和特殊字符，一般建议使用大写字母来定义环境变量名称。

例如，定义一个名为 `MYVAR`​ 的环境变量，可以在命令提示符窗口中输入以下命令

```bash
set MYVAR=HelloWorld
```

然后可以通过 `%MYVAR%`​ 来引用该变量的值，例如：

```bash
echo %MYVAR%
::输出hello world
```

# bat语言中的循环语句

在 BAT 脚本中，常用的循环语句有 `for`​ 循环和 `while`​ 循环。

1. ​`for`​ 循环

​`for`​ 循环用于遍历一个序列，并对其中的每个元素执行一次命令。其基本语法如下：

```bash
for %%var in (set) do (
    command1
    command2
    ...
)
```

* 其中，`set`​ 表示需要遍历的序列，可以是一组文件名、一组目录名或者一组字符串等。`%%var`​ 是一个循环变量，可以在循环中使用，每次循环会自动更新其值。在循环体中可以编写需要执行的命令。
* 例如，如果需要遍历当前目录下所有的文件，并对每个文件执行一次 `type`​ 命令，可以使用以下语法：

  ```bash
  for %%i in (*.txt) do (
      type %%i
  )
  ```

* 这段代码会遍历当前目录下所有的 `.txt`​ 文件，并对每个文件执行一次 `type`​ 命令。

2. ​`while`​ 循环

​`while`​ 循环用于在满足某个条件的情况下重复执行一段代码。在 BAT 脚本中，通常使用 `goto`​ 和 `if`​ 语句来实现 `while`​ 循环。其基本语法如下：

```bash
:loop
    command1
    command2
    ...
    if condition goto loop
```

其中，`:loop`​ 表示一个标签，可以用于跳转到循环的起始位置。`condition`​ 是需要判断的条件，如果满足条件，则跳转到 `:loop`​ 标签处重复执行循环体中的命令，否则跳出循环。

例如，如果需要循环读取用户的输入，直到用户输入了一个指定的字符串，可以使用以下语法：

```bash
:loop
    set /p input=Please enter a string:
    if not "%input%"=="exit" goto loop
```

这段代码会不断读取用户的输入，并判断输入的字符串是否等于 `exit`​，如果不是则跳转到 `:loop`​ 标签处继续执行循环体中的命令，否则跳出循环。

# bat脚本中的条件语句

1. ​`if`​ 语句

​`if`​ 语句用于在满足某个条件的情况下执行一段代码。其基本语法如下：

```bash
if condition (
    command1
    command2
    ...
)
```

其中，`condition`​ 是需要判断的条件，如果满足条件，则执行 `command1`​、`command2`​ 等一系列命令。

2. ​`if-else`​ 语句

​`if-else`​ 语句用于在满足某个条件的情况下执行一段代码，否则执行另一段代码。其基本语法如下：

```bash
if condition (
    command1
    command2
    ...
) else (
    command3
    command4
    ...
)
```

其中，`condition`​ 是需要判断的条件，如果满足条件，则执行 `command1`​、`command2`​ 等一系列命令，否则执行 `command3`​、`command4`​ 等另一系列命令。

# bat脚本中的关键字。

‍
